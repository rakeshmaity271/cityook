function quickCheckout(){addToCart(!0)}function openCart(){var e=getCookie("cartItemsCount");if("0"!=e)if(clevertap.event.push("Cart Button Clicked",{"Total Cart Items":e,"Clicked From":"Service Booking Page","User ID":""!=getCookie("timesaverzUserID")?getCookie("timesaverzUserID"):"0"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))window.location.href="/cart";else{fetchCartItems(),firstAddressSelect();var a=document.querySelector("[data-dialog]"),s=document.getElementById(a.getAttribute("data-dialog")),t=new DialogFx(s);a.addEventListener("click",t.toggle.bind(t)()),$("#somedialog").hasClass("dialog--open")?($("footer > div > div").css({"z-index":"-1"}),$(".footerBottom > div > div").css({"z-index":"-1"})):($("footer > div > div").css({"z-index":"0"}),$(".footerBottom > div > div").css({"z-index":"1"}))}else showSnackbar("Please add services to the cart to continue","right")}function callNextSlide(){$(".owl-carousel").data("owlCarousel").next()}function popupCart(){$("#somedialog").hasClass("dialog--open")||($("footer > div > div").css({"z-index":"0"}),$(".footerBottom > div > div").css({"z-index":"1"})),setTimeout(popupCart,200)}function nextStep(e){$(e).attr("type");$(e).parent(".tab-pane").removeClass("active"),$(e).parent().next(".tab-pane").addClass("active");$(e).parent().attr("id");$(".cart-steps li").each(function(){if($(this).hasClass("active"))return $(this).removeClass("active"),$(this).next().addClass("active"),!1})}function getUserArea(){var e=$("#userPinCode").val();$("#userAreaName").html(""),$("#userAreaName").siblings($(".dropdownjs")).children("ul").html(""),$("#userAreaName").siblings($(".dropdownjs")).children($(".fakeinput")).val(""),6==e.length?$.ajax({data:"pinCode="+e,url:"/api/getUserCity.php",type:"POST",success:function(a){var s=jQuery.parseJSON(a);if("successful"==s.status)$("#userAreaName").html(""),$("#userAreaName").siblings($(".dropdownjs")).children("ul").html(""),$("#userAreaName").siblings($(".dropdownjs")).children($(".fakeinput")).val(""),getCookie("timesaverzUserCity")==s.cityID?($("#userPinCode").val(e),$("#userAreaName").html(s.areaData),$("#userAreaName option:first-child").attr("selected","selected"),$("#userAreaName").siblings($(".dropdownjs")).children($(".fakeinput")).val($("#userAreaName option:first-child").html()),setCookie("timesaverzUserPinCode",e,90),setCookie("timesaverzUserAreaName",$("#userAreaName option:selected").html(),90),setCookie("timesaverzUserAreaID",$("#userAreaName").val(),90)):alert("The pin code you provided is for another city. Please change the city from the dropdown at the top of the page first to proceed."),mixpanel.track("Chose Pin Code",{"Selected Pin Code":e});else if("noAreaFound"==s.status){if(mixpanel.track("Chose Pin Code",{"Unavailable Pin Code":e}),0==confirm("Looks like this area is not in our service list, do you want to call our helpline to check if they can still arrange a service for you?"))return;location.href="tel:+919022711888"}else alert("Sorry. We could not determine your location.")}}):($("#userAreaName").html(""),$("#userAreaName").siblings($(".dropdownjs")).children("ul").html(""),$("#userAreaName").siblings($(".dropdownjs")).children($(".fakeinput")).val(""))}function changeUserAreaID(){setCookie("timesaverzUserAreaName",$("#userAreaName option:selected").html(),90),setCookie("timesaverzUserAreaID",$("#userAreaName").val(),90)}function requestOTP(){var e=$("#userMobileNumber").val();if(10==e.length){getCookie("timesaverzUserMobileNumber");var a=getCookie("timesaverzUserCity");$.ajax({url:"/api/requestOTP.php",data:"userMobileNumber="+e+"&userCity="+a,type:"POST",success:function(a){var s=jQuery.parseJSON(a);if("successful"==s.status){if($(".getOTPButton").css("display","none"),$("#cmdLogin").css("display","block"),$("#userType").val(s.userType),"old"==s.userType)$("#userID").val(s.userData.userID),mixpanel.identify(s.userData.userID),$("#cmdLogin").html("Login"),$(".oldCustomerDetails").fadeIn("slow").css("display","block"),setCookie("timesaverzUserID",s.userData.userID,90),setCookie("timesaverzUserMobileNumber",e,90),setCookie("timesaverzUserEmailAddress",s.userData.userEmailAddress,90),setCookie("timesaverzUserFullName",s.userData.userFullName,90);else if("migrated"==s.userType){var t=s.userData.userEmailAddress,r=s.userData.userFullName;"default"!=t&&$("#userEmailAddress").val(t),"default"!=r&&$("#userFullName").val(r),""!=$("#userFullName").val()&&$("#userFullName").closest(".form-group").removeClass("is-empty"),$("#userID").val(s.userData.userID),$("#cmdLogin").html("Signup"),mixpanel.identify(s.userData.userID),setCookie("timesaverzUserID",s.userData.userID,90),setCookie("timesaverzUserMobileNumber",e,90),$(".oldCustomerDetails").fadeIn("slow").css("display","block"),$(".newCustomerDetails").fadeIn("slow").css("display","block")}else"new"==s.userType&&($("#userID").val(s.userData.userID),mixpanel.identify(s.userData.userID),$("#cmdLogin").html("Signup"),setCookie("timesaverzUserID",s.userData.userID,90),setCookie("timesaverzUserMobileNumber",e,90),$(".oldCustomerDetails").fadeIn("slow").css("display","block"),$(".newCustomerDetails").fadeIn("slow").css("display","block"));"true"==getCookie("timesaverzRestrictCashPayment")?($("#transactionModeCash").prop("disabled",!0),$("#transactionModeCash").closest(".subheading").css("visibility","hidden")):($("#transactionModeCash").prop("disabled",!1),$("#transactionModeCash").closest(".subheading").css("visibility","visible"))}else alert("Sorry! We could not generate an OTP for you at the moment")}})}else $(".newUserDetails").css("display","none"),$(".oldUserDetails").css("display","none"),alert("Mobile number needs to be 10 digits. Please do not put in country code.")}function userLogin(e){""!=$("#userMobileNumber").val()&&("old"==$("#userType").val()?$.ajax({url:"/api/checkLogin.php",data:"userType=old&userMobileNumber="+$("#userMobileNumber").val()+"&userSentOTP="+$("#userOTP").val(),type:"POST",async:!1,success:function(a){var s=jQuery.parseJSON(a);"successful"==s.status?(null!=s.userData&&updateUserCleverTapProfile(s.userData.userFullName,s.userData.userID,s.userData.userEmailAddress,s.userData.userMobileNumber,s.userData.userGender,s.userData.userDOA,s.userData.userDOB,s.userData.userMinutes),setCookie("timesaverzUserLoggedIn","true",90),$("#cmdContinueAddress").click(),nextStep(e),$("#reviewFullName").html(getCookie("timesaverzUserFullName")),$("#reviewMobileNumber").html(getCookie("timesaverzUserMobileNumber")),$("#userGSTNumber").val(s.userData.gstNumber),fetchAddresses(),generateWebLead()):"accountBlocked"==s.status?alert("Sorry! It seems your account has been blocked. Please contact our helpline for further assistance."):"invalidOTP"==s.status?alert("Sorry! It seems the OTP you provided is incorrect. Please try again."):alert("Sorry! We could not fetch your account details at the moment.")}}):""!=$("#userMobileNumber").val()&&""!=$("#userOTP").val()&&""!=$("#userFullName").val()&&""!=$("#userEmailAddress").val()?$.ajax({url:"/api/checkLogin.php",data:"userType=new&userMobileNumber="+$("#userMobileNumber").val()+"&userSentOTP="+$("#userOTP").val()+"&userEmailAddress="+$("#userEmailAddress").val()+"&userFullName="+$("#userFullName").val()+"&userReferralCode="+$("#userReferralCode").val(),type:"POST",async:!1,success:function(a){var s=jQuery.parseJSON(a);"successful"==s.status?(null!=s.userData&&updateUserCleverTapProfile(s.userData.userFullName,s.userData.userID,s.userData.userEmailAddress,s.userData.userMobileNumber,s.userData.userGender,s.userData.userDOA,s.userData.userDOB,s.userData.userMinutes),setCookie("timesaverzUserMobileNumber",$("#userMobileNumber").val(),90),setCookie("timesaverzUserEmailAddress",$("#userEmailAddress").val(),90),setCookie("timesaverzUserFullName",$("#userFullName").val(),90),setCookie("timesaverzUserLoggedIn","true",90),$("#cmdContinueAddress").click(),nextStep(e),$("#reviewFullName").html(getCookie("timesaverzUserFullName")),$("#reviewMobileNumber").html(getCookie("timesaverzUserMobileNumber")),fetchAddresses(),generateWebLead()):"invalidOTP"==s.status?alert("Sorry! It seems the OTP you provided is incorrect. Please try again."):alert("Sorry! We could not fetch your account details at the moment.")}}):alert("Please provide all details to continue."))}function applyCoupon(){var e=$("#couponCode").val();""!=e?(e=e.toUpperCase(),$("#couponCode").val(e),$.ajax({url:"/api/applyCoupon.php",data:"couponName="+e,type:"POST",success:function(a){var s=jQuery.parseJSON(a);"successful"==s.status?("coupon"==s.type?showSnackbar("Woohoo! Coupon has been applied","center"):"cashback"==s.type?showSnackbar("Congratulations! The cashback coupon has been applied. Your cashback of Rs. "+s.totalCashback+" will be processed once your order is completed and will be added to your Minutes.","center"):"giftcard"==s.type?showSnackbar("Woohoo! Gift Card has been applied","center"):showSnackbar("Woohoo! Coupon has been applied","center"),setCookie("timesaverzCouponCode",e,90),$("#cmdApplyCoupon").css("display","none"),$("#cmdRemoveCoupon").css("display","block"),$("#couponCode").attr("readonly",!0),1*s.couponPaymentOnline==1?($("#transactionModeCash").prop("disabled",!0),$("#transactionModeCash").closest(".subheading").css("visibility","hidden")):($("#transactionModeCash").prop("disabled",!1),$("#transactionModeCash").closest(".subheading").css("visibility","visible")),fetchCartItems()):"failed"==s.status?($("#couponCode").attr("readonly",!1),showSnackbar(s.reason,"center")):($("#couponCode").attr("readonly",!1),showSnackbar("Sorry! We could not apply the coupon at the moment","center"))}})):alert("Please provide coupon code.")}function removeCoupon(){""!=getCookie("timesaverzCouponCode")&&$.ajax({url:"/api/removeCoupon.php",type:"GET",success:function(e){var a=jQuery.parseJSON(e);"successful"==a.status?(showSnackbar("The coupon has been removed","center"),setCookie("timesaverzCouponCode","",90),$("#cmdApplyCoupon").css("display","block"),$("#cmdRemoveCoupon").css("display","none"),$("#couponCode").val(""),$("#couponCode").attr("readonly",!1),$("#transactionModeInstamojo").prop("disabled",!1),$("#transactionModePayUMoney").prop("disabled",!1),$("#transactionModeCash").prop("disabled",!1),$("#transactionModeInstamojo").closest(".subheading").css("visibility","visible"),$("#transactionModePayUMoney").closest(".subheading").css("visibility","visible"),$("#transactionModeCash").closest(".subheading").css("visibility","visible"),$("#transactionModeInstamojo").prop("checked",!0),fetchCartItems()):(a.status,$("#couponCode").attr("readonly",!0),showSnackbar("Sorry! We could not remove the coupon at the moment","center"))}})}function saveAddress(){var e=getCookie("timesaverzUserID"),a=$("#userAddress").val().trim(),s=$("#userPinCode").val().trim(),t=$("#userAreaName").val(),r=(getCookie("timesaverzUserCity"),0);""==e&&0==r&&(alert("Sorry! You're not logged in"),$("#add-address").attr("data-dismiss",""),r=1),(""==a||a.length<20)&&0==r&&(alert("Sorry! The address should be at least 20 characters long."),$("#add-address").attr("data-dismiss",""),r=1),s.length<6&&0==r&&(alert("Please provide a valid pin code"),$("#add-address").attr("data-dismiss",""),r=1),""!=t&&"choose"!=t||0!=r||(alert("Please choose an area to continue"),$("#add-address").attr("data-dismiss",""),r=1),0==r&&$.ajax({url:"/api/saveNewAddress.php",data:"userID="+e+"&userAddress="+a+"&userPinCode="+s+"&userAreaID="+t,type:"POST",success:function(e){"successful"==jQuery.parseJSON(e).status?($("#add-address").modal("hide"),$("#userAreaName").html(""),$("#userAreaName").siblings($(".dropdownjs")).children("ul").html(""),$("#userAreaName").siblings($(".dropdownjs")).children($(".fakeinput")).val(""),fetchAddresses()):alert("Sorry, we couldn't save your address at this point")}})}function selectUserAddress(){var e=$("input:radio[name='address']:checked").attr("data-formattedAddress"),a=$("input:radio[name='address']:checked").attr("data-pincode"),s=$("input:radio[name='address']:checked").attr("data-areaID"),t=$("input:radio[name='address']:checked").attr("data-areaName");null!=s&&""!=s?($("#reviewAddress").html(e),setCookie("timesaverzUserPinCode",a,90),setCookie("timesaverzUserAreaName",t,90),setCookie("timesaverzUserAreaID",s,90),setCookie("timesaverzUserAddress",e,90)):"true"==getCookie("timesaverzUserLoggedIn")&&$("#addAddressButton").click()}function fetchAddresses(){var e="";$("#addresses").html("");var a=getCookie("timesaverzUserCity"),s=getCookie("timesaverzUserID");getCookie("timesaverzUserAreaID");$.ajax({url:"/api/fetchUserAddress.php",data:"userID="+s+"&cityID="+a,type:"POST",success:function(a){var s=jQuery.parseJSON(a).addressData;if(null!=s){for(var t=0;t<s.length;t++)e='<div class="col-md-6 col-sm-12 col-xs-12 addressItem"><div class="radio col-md-10 col-sm-10 col-xs-12"><label><input type="radio" name="address" value="'+s[t].addressID+'" data-areaID="'+s[t].userAreaID+'" data-pincode="'+s[t].areaPinCode+'" data-areaName="'+s[t].areaName+'" data-formattedAddress="'+s[t].formattedAddress+'" onclick="selectUserAddress();"/><h4>'+s[t].userAddress+"</h4><p>"+s[t].areaName+". "+s[t].cityName+" - "+s[t].areaPinCode+"</p></label></div></div>",$("#addresses").append(e);$(".slimScrollDiv").css("height","auto"),firstAddressSelect(),$.material.radio()}else $("#addAddressButton").click()}}),$("#userAddress").val(""),$("#userPinCode").val(""),generateWebLead(),fetchCartItems()}function fetchCartItems(){var e=$("#transactionMode").val();setCookie("timesaverzPaymentMethod",e,90);$.ajax({url:"/api/fetchCartItems.php",type:"GET",success:function(e){var a=jQuery.parseJSON(e);"successful"==a.status?($("#reviewCartItems").html(a.cartData),$(".reviewCartTotal").html(a.cartTotal),$("#reviewCartActualCost").html(a.actualCost),$("#mainCartData").html(a.mainCartData),$("#cartItemsReview").html(a.cartItemsReview),$("#finalDiscountedTotal").html(a.finalDiscountedTotal),$(".finalPrice").html("<h3><span class='highlight'>&#8377;</span> "+a.cartTotal+"</h3>"),a.cartTotal!=a.actualCost?$(".actualCost").css("display","block"):$(".actualCost").css("display","none"),0==a.cartTotal?($("#transactionModePayTM").prop("disabled",!0),$("#transactionModeInstamojo").prop("disabled",!0),$("#transactionModePayUMoney").prop("disabled",!0),$("#transactionModeCash").prop("checked","checked"),$("#transactionModePayTM").closest(".radio").css("display","none"),$("#transactionModeInstamojo").closest(".radio").css("display","none"),$("#transactionModePayUMoney").closest(".radio").css("display","none")):a.cartTotal>0&&($("#transactionModePayTM").prop("disabled",!1),$("#transactionModeInstamojo").prop("disabled",!1),$("#transactionModePayUMoney").prop("disabled",!1),$("#transactionModePayTM").closest(".radio").css("display","block"),$("#transactionModeInstamojo").closest(".radio").css("display","block"),$("#transactionModePayUMoney").closest(".radio").css("display","block")),"true"==a.isRepeatService?($("#transactionModeCash").prop("disabled",!0),$("#transactionModeCash").prop("checked",""),$("#transactionModeCash").closest(".subheading").addClass("disabled"),$(".onlinePaymentTextMessage").css("display","block")):($("#transactionModeCash").prop("disabled",!1),$("#transactionModeCash").closest(".subheading").removeClass("disabled"),$(".onlinePaymentTextMessage").css("display","none"))):showSnackbar("Your session has expired. Please re-add services to your cart to continue","right")}}),$("#userAddress").val(""),$("#userPinCode").val("")}function removeServiceFromCart(e){if(0!=confirm("Are you sure you want to remove this service from your cart?")){var a=$(e).attr("data-variableID");$.ajax({url:"/api/removeFromCart.php",data:"variableID="+a,type:"POST",success:function(a){var s=jQuery.parseJSON(a);"successful"==s.status?($(e).closest(".cartItem").fadeTo("medium",.01,function(){$(this).slideUp("fast",function(){$(this).remove()})}),showSnackbar("The service has been removed from your cart","center"),$("#cartItemsCount").html(getCookie("cartItemsCount")),"true"==s.emptyCart&&$("#somedialog").removeClass("dialog--open"),removeCoupon(),fetchCartItems(),cartButtonVisibility()):alert("Sorry! Could not remove the service from your cart")}})}}function generateWebLead(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))var e="mobileweb";else e="web";$.ajax({url:"/api/generateWebLead.php",data:"jobBookedFrom="+e,type:"GET",success:function(e){"successful"==jQuery.parseJSON(e).status&&(ga("send","event","Web Lead","Generated"),$("#leadGenerated").val("true"),document.getElementById("imgConversion").src="//www.googleadservices.com/pagead/conversion/997846753/?label=DwiJCOSwzWQQ4d3n2wM&guid=ON&script=0")}})}function placeOrder(){var e=$("input:radio[name=transactionMode]:checked").val();$("#transactionMode").val(e);var a=getCookie("timesaverzUserLoggedIn"),s=getCookie("cartItemsCount"),t=!1,r=0;"0"==s&&0==r&&(showSnackbar("Please add services to your cart to continue placing your order","center"),r=1),null==e&&0==r&&(showSnackbar("Please choose a payment method","center"),r=1),"true"!=a&&0==r&&(showSnackbar("Please login to continue placing order","center"),r=1),0==r&&$.ajax({url:"/api/minimumAmountChecker.php",type:"GET",success:function(e){var a=jQuery.parseJSON(e);if("failed"==a.status&&(showSnackbar(a.message,"center"),t=!0),0==t){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?$("#jobBookedFrom").val("mobileweb"):$("#jobBookedFrom").val("web"),fetchCartItems(),$("#finalAmount").val($(".reviewCartTotal").html().match(/\d+/)),$("#couponName").val($("#couponCode").val());var r=$("#finalAmount").val();clevertap.event.push("Order Placed",{"Selected Payment Option":$("input:radio[name=transactionMode]:checked").attr("data-paymentMode"),"Total Cart Items":s,"Total Cart Value":isNaN(parseInt(r))?0:parseInt(r),"User ID":""!=getCookie("timesaverzUserID")?getCookie("timesaverzUserID"):"0"}),$("#finalCart").submit()}}})}function nextStep(e){$(e).attr("type");$(e).parent().parent().parent(".tab-pane").removeClass("active"),$(e).parent().parent().parent(".tab-pane").next(".tab-pane").addClass("active");$(e).parent().attr("id");$(".cart-steps li").each(function(){if($(this).hasClass("active"))return $(this).removeClass("active"),$(this).children("a").css({"pointer-events":"auto"}),$(this).next().children("a").css({"pointer-events":"auto"}),$(this).next().addClass("active"),!1})}function proceedToPayment(e){if(fetchUserGSTNumber(),$(".addressItem").length>0){$(e).attr("type");$(e).parent().parent().parent(".tab-pane").removeClass("active"),$(e).parent().parent().parent(".tab-pane").next(".tab-pane").addClass("active");$(e).parent().attr("id");$(".cart-steps li").each(function(){if($(this).hasClass("active"))return $(this).removeClass("active"),$(this).children("a").css({"pointer-events":"auto"}),$(this).next().children("a").css({"pointer-events":"auto"}),$(this).next().addClass("active"),!1})}else alert("Please add an address")}function firstAddressSelect(){$('input:radio[name="address"]:visible:first').attr("checked","checked"),$('input:radio[name="address"]:first').attr("checked","checked"),selectUserAddress()}function fetchUserGSTNumber(){var e=getCookie("timesaverzUserID");$.ajax({url:"/api/fetchUserGSTNumber.php",data:"userID="+e,type:"POST",success:function(e){var a=jQuery.parseJSON(e);if("successful"==a.status){var s=a.userGSTNumber;null!=s||""!=s?($("#userGSTNumber").closest(".form-group").removeClass("is-empty").addClass("is-focused"),$("#userGSTNumber").siblings("button").html("Update"),$("#userGSTNumber").val(s)):($("#userGSTNumber").val("0"),$("#userGSTNumber").siblings("button").html("Add"),s=$("#userGSTNumber").val())}}})}function updateUserGSTNumber(){var e=getCookie("timesaverzUserID");userGSTNumber=$("#userGSTNumber").val();var a=0;(userGSTNumber.length<15&&0==a||userGSTNumber.length>15&&0==a)&&(alert("Please provide a valid GST Number"),a=1),0==a&&$.ajax({url:"/api/updateUserGSTNumber.php",data:"userID="+e+"&userGSTNumber="+userGSTNumber,type:"POST",success:function(e){var a=jQuery.parseJSON(e);"successful"==a.status?showSnackbar(a.message,"right"):showSnackbar("Sorry, we couldn't save your GST Number at this point","right")}})}function showSnackbar(e,a){$("#snackbar-container").html("");var s={content:e,style:"toast",timeout:5e3};$.snackbar(s)}function updateURL(){var e=window.location.href.split("?");-1==e[0].indexOf("/cart")&&(null!=e[1]&&""!=e[1]?window.history.pushState("","",e[0]+"/cart?"+e[1]):window.history.pushState("","",e+"/cart"))}function checkPaymentMode(e){var a=$(e).val();$(".finalDiscountedTotal").hide(),$(".finalTotal").show(),"cash"==a?$(".paymentDesc").html("You may pay the service partner in cash at the completion of service."):($(".paymentDesc").html("You can pay securely using Credit Card, Debit Card, Net Banking, Wallet and Cash Card options."),$(".finalDiscountedTotal").show(),$(".finalTotal").hide())}$(document).ready(function(){setTimeout(popupCart,200),$(".owl-carousel").owlCarousel({items:1,autoPlay:!1,touchDrag:!1,mouseDrag:!1}),$("#userPinCode").keydown(function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||/65|67|86|88/.test(e.keyCode)&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&40>=e.keyCode||(e.shiftKey||48>e.keyCode||57<e.keyCode)&&(96>e.keyCode||105<e.keyCode)&&e.preventDefault()}),$("#userAreaName").dropdown()}),$(function(){$("#somedialog #addresses").slimScroll({height:$(".dialog__content").height()-170}),0==$(".addressItem").length&&$(".slimScrollDiv").height("0px"),$(".cartDetails").slimScroll({height:$(".dialog__content").height()-170}),$("#user-payment .final-step").slimScroll({height:$(".dialog__content").height()-100,alwaysVisible:!0})}),$(window).resize(function(){$("#somedialog #addresses").slimScroll({height:$(".dialog__content").height()-170}),0==$(".addressItem").length&&$(".slimScrollDiv").height("0px"),$(".cartDetails").slimScroll({height:$(".dialog__content").height()-170}),$("#user-payment .final-step").slimScroll({height:$(".dialog__content").height()-100,alwaysVisible:!0})}),$("#cartPopupResendOTP").on("click","a",function(){clevertap.event.push("Cart Popup Login Page Actions",{"CTA Clicked":"Resend OTP"}),$("#userMobileNumber").attr("readonly","readonly"),requestOTP(),$("#cartPopupResendOTP").html("<p class='pull-right'><img src='img/preloader.gif' width='15'/> Resend after 0:<span id='countDown'></span> seconds </p>");var e=60;!function a(){e<10?$("#countDown").html("0"+e):$("#countDown").html(e),e--&&(setTimeout(a,1e3),0==e&&$("#cartPopupResendOTP").html("<a class='pull-right'>Resend OTP</a>"))}()}),$("#userAddress").keyup(function(){$(this).val($(this).val().replace(/[^a-z0-9 ,.-]/gi,""))});var maxchar=100,userAddress=document.getElementById("userAddress"),addressCharacterCount=document.getElementById("addressCharacterCount");function count(e){var a=userAddress.value.length;a>=maxchar||null!=addressCharacterCount&&(addressCharacterCount.innerHTML=maxchar-a-1)}null!=addressCharacterCount&&(addressCharacterCount.innerHTML=maxchar),null!=userAddress&&userAddress.addEventListener("keydown",count);